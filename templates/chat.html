{% extends "base.html" %}

{% block content %}
<!-- Previous content remains the same until line 301 -->

<script>
// Previous socket connection code remains the same until line 301

socket.on('new_notification', (data) => {
    // Don't show notification if we're in the same chat
    const currentChatId = chatIdInput?.value;
    if (currentChatId && currentChatId === data.chat_id) {
        return;
    }
    addNotification(data);
});

// Rest of the previous JavaScript code remains the same
</script>
{% endblock %}
